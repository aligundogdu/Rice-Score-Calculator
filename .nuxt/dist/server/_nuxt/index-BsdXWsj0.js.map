{"version":3,"file":"index-BsdXWsj0.js","sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\n\t<div class=\"space-y-6\">\n\t\t<header class=\"flex items-center justify-between\">\n\t\t\t<h1 class=\"text-2xl font-bold\">RICE Score Calculator</h1>\n\t\t\t<div class=\"stats shadow\">\n\t\t\t\t<div class=\"stat\">\n\t\t\t\t\t<div class=\"stat-title\">Total Features</div>\n\t\t\t\t\t<div class=\"stat-value text-primary\">{{ features.length }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\n\t\t<section class=\"card bg-base-200 shadow\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<h2 class=\"card-title\">Add New Feature</h2>\n\t\t\t\t<form class=\"space-y-4\" @submit.prevent=\"addFeature\">\n\t\t\t\t\t<!-- Row 1: name + description -->\n\t\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"label\"><span class=\"label-text\">Feature Name</span></label>\n\t\t\t\t\t\t\t<input v-model.trim=\"form.name\" type=\"text\" class=\"input input-bordered w-full\" placeholder=\"e.g. Improve onboarding\" required />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"label\"><span class=\"label-text\">Description</span></label>\n\t\t\t\t\t\t\t<input v-model.trim=\"form.description\" type=\"text\" class=\"input input-bordered w-full\" placeholder=\"Short description\" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<!-- Row 2: metrics -->\n\t\t\t\t\t<div class=\"grid grid-cols-1 md:grid-cols-5 gap-4 items-end\">\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"label\"><span class=\"label-text\">Reach</span></label>\n\t\t\t\t\t\t\t<input v-model.number=\"form.reach\" type=\"number\" min=\"0\" step=\"1\" class=\"input input-bordered w-full\" placeholder=\"e.g. 1000\" />\n\t\t\t\t\t\t\t<p v-if=\"errors.reach\" class=\"text-error text-sm mt-1\">{{ errors.reach }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"label\"><span class=\"label-text\">Impact (0.25–3)</span></label>\n\t\t\t\t\t\t\t<input v-model.number=\"form.impact\" type=\"number\" min=\"0.25\" max=\"3\" step=\"0.01\" class=\"input input-bordered w-full\" placeholder=\"e.g. 1.5\" />\n\t\t\t\t\t\t\t<p v-if=\"errors.impact\" class=\"text-error text-sm mt-1\">{{ errors.impact }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"label\"><span class=\"label-text\">Confidence (%)</span></label>\n\t\t\t\t\t\t\t<input v-model.number=\"form.confidencePct\" type=\"number\" min=\"0\" max=\"100\" step=\"1\" class=\"input input-bordered w-full\" placeholder=\"e.g. 80\" />\n\t\t\t\t\t\t\t<p v-if=\"errors.confidencePct\" class=\"text-error text-sm mt-1\">{{ errors.confidencePct }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<label class=\"label\"><span class=\"label-text\">Effort</span></label>\n\t\t\t\t\t\t\t<input v-model.number=\"form.effort\" type=\"number\" min=\"0.1\" step=\"0.1\" class=\"input input-bordered w-full\" placeholder=\"e.g. 5\" />\n\t\t\t\t\t\t\t<p v-if=\"errors.effort\" class=\"text-error text-sm mt-1\">{{ errors.effort }}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t\t<button type=\"submit\" class=\"btn btn-primary\">Add</button>\n\t\t\t\t\t\t\t<button type=\"button\" class=\"btn btn-ghost\" @click=\"resetForm\">Reset</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t</section>\n\n\t\t<section v-if=\"features.length\" class=\"card bg-base-100 shadow\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<div class=\"flex items-center justify-between\">\n\t\t\t\t\t<h2 class=\"card-title\">Comparison Table</h2>\n\t\t\t\t\t<div class=\"flex gap-2\">\n\t\t\t\t\t\t<button class=\"btn btn-outline btn-sm\" @click=\"seedExamples\">Load Examples</button>\n\t\t\t\t\t\t<button class=\"btn btn-error btn-sm\" @click=\"clearAll\">Clear All</button>\n\t\t\t\t\t\t<button class=\"btn btn-primary btn-sm\" :disabled=\"!features.length || exporting\" @click=\"exportPng\">\n\t\t\t\t\t\t\t<span v-if=\"!exporting\">Export PNG</span>\n\t\t\t\t\t\t\t<span v-else class=\"loading loading-spinner loading-xs\"></span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"overflow-x-auto\" ref=\"tableRef\">\n\t\t\t\t\t<table class=\"table\">\n\t\t\t\t\t\t<thead>\n\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t<th>#</th>\n\t\t\t\t\t\t\t\t<th>Feature</th>\n\t\t\t\t\t\t\t\t<th>Reach</th>\n\t\t\t\t\t\t\t\t<th>Impact</th>\n\t\t\t\t\t\t\t\t<th>Confidence</th>\n\t\t\t\t\t\t\t\t<th>Effort</th>\n\t\t\t\t\t\t\t\t<th>RICE</th>\n\t\t\t\t\t\t\t\t<th data-export-exclude></th>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</thead>\n\t\t\t\t\t\t<tbody>\n\t\t\t\t\t\t\t<tr v-for=\"(f, idx) in sorted\" :key=\"f.id\">\n\t\t\t\t\t\t\t\t<td>{{ idx + 1 }}</td>\n\t\t\t\t\t\t\t\t<td>\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-medium\">{{ f.name }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"text-sm opacity-70\">{{ f.description }}</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td>{{ formatNum(f.reach) }}</td>\n\t\t\t\t\t\t\t\t<td>{{ formatNum(f.impact) }}</td>\n\t\t\t\t\t\t\t\t<td>{{ Math.round(f.confidencePct) }}%</td>\n\t\t\t\t\t\t\t\t<td>{{ formatNum(f.effort) }}</td>\n\t\t\t\t\t\t\t\t<td class=\"w-64\">\n\t\t\t\t\t\t\t\t\t<div class=\"space-y-1\">\n\t\t\t\t\t\t\t\t\t\t<div class=\"font-mono\">{{ formatNum(score(f)) }}</div>\n\t\t\t\t\t\t\t\t\t\t<div class=\"h-2 bg-base-200 rounded\">\n\t\t\t\t\t\t\t\t\t\t\t<div class=\"h-2 bg-primary rounded\" :style=\"{ width: barWidth(f) }\"></div>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t\t<td class=\"text-right\">\n\t\t\t\t\t\t\t\t\t<button class=\"btn btn-ghost btn-sm\" @click=\"removeFeature(f.id)\" data-export-exclude>Delete</button>\n\t\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t</tr>\n\t\t\t\t\t\t</tbody>\n\t\t\t\t\t</table>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\n\t\t<section v-else class=\"card bg-base-100 shadow\">\n\t\t\t<div class=\"card-body\">\n\t\t\t\t<p class=\"opacity-70\">No features added yet. Fill the form and click “Add”.</p>\n\t\t\t\t<div>\n\t\t\t\t\t<button class=\"btn btn-outline btn-sm\" @click=\"seedExamples\">Load Examples</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</section>\n\t</div>\n\t</template>\n\n<script setup lang=\"ts\">\nimport { v4 as uuidv4 } from 'uuid'\n\ninterface Feature {\n\tid: string\n\tname: string\n\tdescription: string\n\treach: number\n\timpact: number\n\tconfidencePct: number\n\teffort: number\n}\n\nconst features = ref<Feature[]>([])\nconst tableRef = ref<HTMLElement | null>(null)\nconst exporting = ref(false)\n\nconst form = reactive<Feature>({\n\tid: '',\n\tname: '',\n\tdescription: '',\n\treach: 0,\n\timpact: 1,\n\tconfidencePct: 80,\n\teffort: 1\n})\n\nconst errors = reactive<Record<string, string | null>>({\n\treach: null,\n\timpact: null,\n\tconfidencePct: null,\n\teffort: null\n})\n\nfunction validate(): boolean {\n\terrors.reach = form.reach < 0 ? 'Reach cannot be negative' : null\n\t// Impact typical range: 0.25–3\n\tif (form.impact < 0.25) {\n\t\terrors.impact = 'Impact must be at least 0.25'\n\t} else if (form.impact > 3) {\n\t\terrors.impact = 'Impact must be at most 3'\n\t} else {\n\t\terrors.impact = null\n\t}\n\terrors.confidencePct =\n\t\tform.confidencePct < 0 || form.confidencePct > 100 ? 'Confidence must be between 0 and 100' : null\n\terrors.effort = form.effort <= 0 ? 'Effort must be greater than 0' : null\n\treturn !errors.reach && !errors.impact && !errors.confidencePct && !errors.effort\n}\n\nfunction addFeature() {\n\tif (!validate()) return\n\tconst f: Feature = {\n\t\t...form,\n\t\tid: uuidv4().slice(0, 8)\n\t}\n\tfeatures.value.push(f)\n\tresetForm()\n}\n\nfunction resetForm() {\n\tform.id = ''\n\tform.name = ''\n\tform.description = ''\n\tform.reach = 0\n\tform.impact = 1\n\tform.confidencePct = 80\n\tform.effort = 1\n\tfor (const k of Object.keys(errors)) {\n\t\terrors[k] = null\n\t}\n}\n\nfunction removeFeature(id: string) {\n\tfeatures.value = features.value.filter((f) => f.id !== id)\n}\n\nfunction clearAll() {\n\tfeatures.value = []\n}\n\nfunction score(f: Feature): number {\n\tif (f.effort <= 0) return 0\n\treturn (f.reach * f.impact * (f.confidencePct / 100)) / f.effort\n}\n\nconst sorted = computed(() => {\n\treturn [...features.value].sort((a, b) => score(b) - score(a))\n})\n\nconst maxScore = computed(() => {\n\treturn features.value.length ? Math.max(...features.value.map((f) => score(f))) : 0\n})\n\nfunction barWidth(f: Feature): string {\n\tconst m = maxScore.value\n\tif (m <= 0) return '0%'\n\tconst w = (score(f) / m) * 100\n\treturn `${w}%`\n}\n\nfunction formatNum(n: number): string {\n\treturn Number.isFinite(n) ? new Intl.NumberFormat('tr-TR', { maximumFractionDigits: 2 }).format(n) : '-'\n}\n\nasync function exportPng() {\n\tif (!tableRef.value) return\n\ttry {\n\t\texporting.value = true\n\t\tconst node = tableRef.value as HTMLElement\n\t\tconst { toPng } = await import('html-to-image')\n\t\t// Geçici olarak temayı light yap, beyaz arka planla export al\n\t\tconst root = document.documentElement\n\t\tconst prevTheme = root.getAttribute('data-theme')\n\t\troot.setAttribute('data-theme', 'light')\n\t\t// high-DPI çıktısı için pixelRatio artır\n\t\tconst dataUrl = await toPng(node, {\n\t\t\tcacheBust: true,\n\t\t\tpixelRatio: 2,\n\t\t\tbackgroundColor: '#ffffff',\n\t\t\tfilter: (domNode) => {\n\t\t\t\t// Element olmayan nodelar (Text, Comment) için izin ver\n\t\t\t\tif (!(domNode instanceof Element)) return true\n\t\t\t\t// Kendisi veya atalarında export'tan hariç işareti olanları dışla\n\t\t\t\treturn !(\n\t\t\t\t\tdomNode.hasAttribute('data-export-exclude') ||\n\t\t\t\t\tdomNode.closest('[data-export-exclude]')\n\t\t\t\t)\n\t\t\t}\n\t\t})\n\t\t// temayı eski haline getir\n\t\tif (prevTheme) {\n\t\t\troot.setAttribute('data-theme', prevTheme)\n\t\t} else {\n\t\t\troot.removeAttribute('data-theme')\n\t\t}\n\t\tconst link = document.createElement('a')\n\t\tlink.download = `rice-results-${new Date().toISOString().slice(0,19).replace(/[:T]/g,'-')}.png`\n\t\tlink.href = dataUrl\n\t\tlink.click()\n\t} catch (e) {\n\t\tconsole.error(e)\n\t} finally {\n\t\texporting.value = false\n\t}\n}\n\nfunction seedExamples() {\n\tif (features.value.length) return\n\tconst samples: Feature[] = [\n\t\t{ id: uuidv4().slice(0, 8), name: 'New onboarding', description: 'Increase conversions', reach: 5000, impact: 1.5, confidencePct: 80, effort: 5 },\n\t\t{ id: uuidv4().slice(0, 8), name: 'Error tracking', description: 'Improve stability', reach: 2000, impact: 1.2, confidencePct: 70, effort: 3 },\n\t\t{ id: uuidv4().slice(0, 8), name: 'Search improvements', description: 'Faster results', reach: 8000, impact: 2.0, confidencePct: 90, effort: 10 }\n\t]\n\tfeatures.value = samples\n}\n</script>\n\n<style scoped>\n</style>\n\n\n"],"names":["_ssrRenderAttrs","_mergeProps","_ssrInterpolate","_unref","_ssrRenderAttr","_ssrRenderStyle"],"mappings":"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"}