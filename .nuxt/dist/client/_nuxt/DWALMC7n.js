import{d as B,r as C,J as R,k as A,x as u,y as m,z as t,A as d,K as i,L as O,M as b,N as f,O as _,P as $,Q as z,_ as q,R as G}from"./DOEzvfaO.js";let w;const H=new Uint8Array(16);function J(){if(!w&&(w=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!w))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return w(H)}const c=[];for(let l=0;l<256;++l)c.push((l+256).toString(16).slice(1));function K(l,n=0){return c[l[n+0]]+c[l[n+1]]+c[l[n+2]]+c[l[n+3]]+"-"+c[l[n+4]]+c[l[n+5]]+"-"+c[l[n+6]]+c[l[n+7]]+"-"+c[l[n+8]]+c[l[n+9]]+"-"+c[l[n+10]]+c[l[n+11]]+c[l[n+12]]+c[l[n+13]]+c[l[n+14]]+c[l[n+15]]}const Q=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),F={randomUUID:Q};function k(l,n,g){if(F.randomUUID&&!l)return F.randomUUID();l=l||{};const p=l.random||(l.rng||J)();return p[6]=p[6]&15|64,p[8]=p[8]&63|128,K(p)}const W={class:"space-y-6"},X={class:"flex items-center justify-between"},Y={class:"stats shadow"},Z={class:"stat"},tt={class:"stat-value text-primary"},et={class:"card bg-base-200 shadow"},nt={class:"card-body"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},lt={class:"grid grid-cols-1 md:grid-cols-5 gap-4 items-end"},ot={key:0,class:"text-error text-sm mt-1"},at={key:0,class:"text-error text-sm mt-1"},it={key:0,class:"text-error text-sm mt-1"},rt={key:0,class:"text-error text-sm mt-1"},ct={key:0,class:"card bg-base-100 shadow"},dt={class:"card-body"},ut={class:"flex items-center justify-between"},mt={class:"flex gap-2"},pt=["disabled"],bt={key:0},ft={key:1,class:"loading loading-spinner loading-xs"},ht={class:"table"},vt={class:"font-medium"},gt={class:"text-sm opacity-70"},xt={class:"w-64"},yt={class:"space-y-1"},_t={class:"font-mono"},wt={class:"h-2 bg-base-200 rounded"},kt={class:"text-right"},Pt=["onClick"],Ct={key:1,class:"card bg-base-100 shadow"},Et=B({__name:"index",setup(l){const n=C([]),g=C(null),p=C(!1),a=R({id:"",name:"",description:"",reach:0,impact:1,confidencePct:80,effort:1}),r=R({reach:null,impact:null,confidencePct:null,effort:null});function V(){return r.reach=a.reach<0?"Reach cannot be negative":null,a.impact<.25?r.impact="Impact must be at least 0.25":a.impact>3?r.impact="Impact must be at most 3":r.impact=null,r.confidencePct=a.confidencePct<0||a.confidencePct>100?"Confidence must be between 0 and 100":null,r.effort=a.effort<=0?"Effort must be greater than 0":null,!r.reach&&!r.impact&&!r.confidencePct&&!r.effort}function D(){if(!V())return;const o={...a,id:k().slice(0,8)};n.value.push(o),U()}function U(){a.id="",a.name="",a.description="",a.reach=0,a.impact=1,a.confidencePct=80,a.effort=1;for(const o of Object.keys(r))r[o]=null}function S(o){n.value=n.value.filter(e=>e.id!==o)}function N(){n.value=[]}function h(o){return o.effort<=0?0:o.reach*o.impact*(o.confidencePct/100)/o.effort}const T=A(()=>[...n.value].sort((o,e)=>h(e)-h(o))),L=A(()=>n.value.length?Math.max(...n.value.map(o=>h(o))):0);function M(o){const e=L.value;return e<=0?"0%":`${h(o)/e*100}%`}function x(o){return Number.isFinite(o)?new Intl.NumberFormat("tr-TR",{maximumFractionDigits:2}).format(o):"-"}async function j(){if(g.value)try{p.value=!0;const o=g.value,{toPng:e}=await q(async()=>{const{toPng:v}=await import("./VDAUHfGj.js");return{toPng:v}},[],import.meta.url),s=document.documentElement,y=s.getAttribute("data-theme");s.setAttribute("data-theme","light");const I=await e(o,{cacheBust:!0,pixelRatio:2,backgroundColor:"#ffffff",filter:v=>v instanceof Element?!(v.hasAttribute("data-export-exclude")||v.closest("[data-export-exclude]")):!0});y?s.setAttribute("data-theme",y):s.removeAttribute("data-theme");const P=document.createElement("a");P.download=`rice-results-${new Date().toISOString().slice(0,19).replace(/[:T]/g,"-")}.png`,P.href=I,P.click()}catch(o){console.error(o)}finally{p.value=!1}}function E(){if(n.value.length)return;const o=[{id:k().slice(0,8),name:"New onboarding",description:"Increase conversions",reach:5e3,impact:1.5,confidencePct:80,effort:5},{id:k().slice(0,8),name:"Error tracking",description:"Improve stability",reach:2e3,impact:1.2,confidencePct:70,effort:3},{id:k().slice(0,8),name:"Search improvements",description:"Faster results",reach:8e3,impact:2,confidencePct:90,effort:10}];n.value=o}return(o,e)=>(m(),u("div",W,[t("header",X,[e[7]||(e[7]=t("h1",{class:"text-2xl font-bold"},"RICE Score Calculator",-1)),t("div",Y,[t("div",Z,[e[6]||(e[6]=t("div",{class:"stat-title"},"Total Features",-1)),t("div",tt,d(i(n).length),1)])])]),t("section",et,[t("div",nt,[e[15]||(e[15]=t("h2",{class:"card-title"},"Add New Feature",-1)),t("form",{class:"space-y-4",onSubmit:O(D,["prevent"])},[t("div",st,[t("div",null,[e[8]||(e[8]=t("label",{class:"label"},[t("span",{class:"label-text"},"Feature Name")],-1)),b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>i(a).name=s),type:"text",class:"input input-bordered w-full",placeholder:"e.g. Improve onboarding",required:""},null,512),[[f,i(a).name,void 0,{trim:!0}]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"label"},[t("span",{class:"label-text"},"Description")],-1)),b(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>i(a).description=s),type:"text",class:"input input-bordered w-full",placeholder:"Short description"},null,512),[[f,i(a).description,void 0,{trim:!0}]])])]),t("div",lt,[t("div",null,[e[10]||(e[10]=t("label",{class:"label"},[t("span",{class:"label-text"},"Reach")],-1)),b(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>i(a).reach=s),type:"number",min:"0",step:"1",class:"input input-bordered w-full",placeholder:"e.g. 1000"},null,512),[[f,i(a).reach,void 0,{number:!0}]]),i(r).reach?(m(),u("p",ot,d(i(r).reach),1)):_("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{class:"label"},[t("span",{class:"label-text"},"Impact (0.25–3)")],-1)),b(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>i(a).impact=s),type:"number",min:"0.25",max:"3",step:"0.01",class:"input input-bordered w-full",placeholder:"e.g. 1.5"},null,512),[[f,i(a).impact,void 0,{number:!0}]]),i(r).impact?(m(),u("p",at,d(i(r).impact),1)):_("",!0)]),t("div",null,[e[12]||(e[12]=t("label",{class:"label"},[t("span",{class:"label-text"},"Confidence (%)")],-1)),b(t("input",{"onUpdate:modelValue":e[4]||(e[4]=s=>i(a).confidencePct=s),type:"number",min:"0",max:"100",step:"1",class:"input input-bordered w-full",placeholder:"e.g. 80"},null,512),[[f,i(a).confidencePct,void 0,{number:!0}]]),i(r).confidencePct?(m(),u("p",it,d(i(r).confidencePct),1)):_("",!0)]),t("div",null,[e[13]||(e[13]=t("label",{class:"label"},[t("span",{class:"label-text"},"Effort")],-1)),b(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>i(a).effort=s),type:"number",min:"0.1",step:"0.1",class:"input input-bordered w-full",placeholder:"e.g. 5"},null,512),[[f,i(a).effort,void 0,{number:!0}]]),i(r).effort?(m(),u("p",rt,d(i(r).effort),1)):_("",!0)]),t("div",{class:"flex gap-2"},[e[14]||(e[14]=t("button",{type:"submit",class:"btn btn-primary"},"Add",-1)),t("button",{type:"button",class:"btn btn-ghost",onClick:U},"Reset")])])],32)])]),i(n).length?(m(),u("section",ct,[t("div",dt,[t("div",ut,[e[16]||(e[16]=t("h2",{class:"card-title"},"Comparison Table",-1)),t("div",mt,[t("button",{class:"btn btn-outline btn-sm",onClick:E},"Load Examples"),t("button",{class:"btn btn-error btn-sm",onClick:N},"Clear All"),t("button",{class:"btn btn-primary btn-sm",disabled:!i(n).length||i(p),onClick:j},[i(p)?(m(),u("span",ft)):(m(),u("span",bt,"Export PNG"))],8,pt)])]),t("div",{class:"overflow-x-auto",ref_key:"tableRef",ref:g},[t("table",ht,[e[17]||(e[17]=t("thead",null,[t("tr",null,[t("th",null,"#"),t("th",null,"Feature"),t("th",null,"Reach"),t("th",null,"Impact"),t("th",null,"Confidence"),t("th",null,"Effort"),t("th",null,"RICE"),t("th",{"data-export-exclude":""})])],-1)),t("tbody",null,[(m(!0),u($,null,z(i(T),(s,y)=>(m(),u("tr",{key:s.id},[t("td",null,d(y+1),1),t("td",null,[t("div",null,[t("div",vt,d(s.name),1),t("div",gt,d(s.description),1)])]),t("td",null,d(x(s.reach)),1),t("td",null,d(x(s.impact)),1),t("td",null,d(Math.round(s.confidencePct))+"%",1),t("td",null,d(x(s.effort)),1),t("td",xt,[t("div",yt,[t("div",_t,d(x(h(s))),1),t("div",wt,[t("div",{class:"h-2 bg-primary rounded",style:G({width:M(s)})},null,4)])])]),t("td",kt,[t("button",{class:"btn btn-ghost btn-sm",onClick:I=>S(s.id),"data-export-exclude":""},"Delete",8,Pt)])]))),128))])])],512)])])):(m(),u("section",Ct,[t("div",{class:"card-body"},[e[18]||(e[18]=t("p",{class:"opacity-70"},"No features added yet. Fill the form and click “Add”.",-1)),t("div",null,[t("button",{class:"btn btn-outline btn-sm",onClick:E},"Load Examples")])])]))]))}});export{Et as default};
